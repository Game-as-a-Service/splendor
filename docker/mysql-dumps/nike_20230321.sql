CREATE DATABASE IF NOT EXISTS nike;
USE nike;
-- -------------------------------------------------------------
-- TablePlus 5.3.0(486)
--
-- https://tableplus.com/
--
-- Database: nike
-- Generation Time: 2023-03-21 15:41:48.2520
-- -------------------------------------------------------------


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;


DROP TABLE IF EXISTS `ai_predict`;
CREATE TABLE `ai_predict` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `date` datetime NOT NULL COMMENT '日期',
  `oriented` varchar(30) NOT NULL COMMENT '面向',
  `signal` varchar(30) DEFAULT NULL COMMENT '訊號',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`,`date`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_date_column` (`date`)
) ENGINE=InnoDB AUTO_INCREMENT=16848722 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
/*!50100 PARTITION BY RANGE (year(`date`))
(PARTITION p1994 VALUES LESS THAN (1995) ENGINE = InnoDB,
 PARTITION p1995 VALUES LESS THAN (1996) ENGINE = InnoDB,
 PARTITION p1996 VALUES LESS THAN (1997) ENGINE = InnoDB,
 PARTITION p1997 VALUES LESS THAN (1998) ENGINE = InnoDB,
 PARTITION p1998 VALUES LESS THAN (1999) ENGINE = InnoDB,
 PARTITION p1999 VALUES LESS THAN (2000) ENGINE = InnoDB,
 PARTITION p2000 VALUES LESS THAN (2001) ENGINE = InnoDB,
 PARTITION p2001 VALUES LESS THAN (2002) ENGINE = InnoDB,
 PARTITION p2002 VALUES LESS THAN (2003) ENGINE = InnoDB,
 PARTITION p2003 VALUES LESS THAN (2004) ENGINE = InnoDB,
 PARTITION p2004 VALUES LESS THAN (2005) ENGINE = InnoDB,
 PARTITION p2005 VALUES LESS THAN (2006) ENGINE = InnoDB,
 PARTITION p2006 VALUES LESS THAN (2007) ENGINE = InnoDB,
 PARTITION p2007 VALUES LESS THAN (2008) ENGINE = InnoDB,
 PARTITION p2008 VALUES LESS THAN (2009) ENGINE = InnoDB,
 PARTITION p2009 VALUES LESS THAN (2010) ENGINE = InnoDB,
 PARTITION p2010 VALUES LESS THAN (2011) ENGINE = InnoDB,
 PARTITION p2011 VALUES LESS THAN (2012) ENGINE = InnoDB,
 PARTITION p2012 VALUES LESS THAN (2013) ENGINE = InnoDB,
 PARTITION p2013 VALUES LESS THAN (2014) ENGINE = InnoDB,
 PARTITION p2014 VALUES LESS THAN (2015) ENGINE = InnoDB,
 PARTITION p2015 VALUES LESS THAN (2016) ENGINE = InnoDB,
 PARTITION p2016 VALUES LESS THAN (2017) ENGINE = InnoDB,
 PARTITION p2017 VALUES LESS THAN (2018) ENGINE = InnoDB,
 PARTITION p2018 VALUES LESS THAN (2019) ENGINE = InnoDB,
 PARTITION p2019 VALUES LESS THAN (2020) ENGINE = InnoDB,
 PARTITION p2020 VALUES LESS THAN (2021) ENGINE = InnoDB,
 PARTITION p2021 VALUES LESS THAN (2022) ENGINE = InnoDB,
 PARTITION p2022 VALUES LESS THAN (2023) ENGINE = InnoDB,
 PARTITION p2023 VALUES LESS THAN (2024) ENGINE = InnoDB,
 PARTITION p2024 VALUES LESS THAN (2025) ENGINE = InnoDB,
 PARTITION p2025 VALUES LESS THAN (2026) ENGINE = InnoDB,
 PARTITION p2026 VALUES LESS THAN (2027) ENGINE = InnoDB,
 PARTITION p2027 VALUES LESS THAN (2028) ENGINE = InnoDB,
 PARTITION p2028 VALUES LESS THAN (2029) ENGINE = InnoDB,
 PARTITION p2029 VALUES LESS THAN (2030) ENGINE = InnoDB,
 PARTITION p2030 VALUES LESS THAN (2031) ENGINE = InnoDB) */;

DROP TABLE IF EXISTS `alembic_version`;
CREATE TABLE `alembic_version` (
  `version_num` varchar(32) NOT NULL,
  PRIMARY KEY (`version_num`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `backtest_result`;
CREATE TABLE `backtest_result` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `oriented` varchar(30) NOT NULL COMMENT '面向',
  `version` varchar(10) NOT NULL COMMENT '版號',
  `strategy` varchar(30) NOT NULL COMMENT '進出場策略',
  `occurrence` int DEFAULT NULL COMMENT '發生次數',
  `profits` int DEFAULT NULL COMMENT '獲利次數',
  `profitability` decimal(40,12) DEFAULT NULL COMMENT '獲利機率',
  `avg_profit_and_loss` decimal(40,12) DEFAULT NULL COMMENT '平均損益',
  `avg_profit` decimal(40,12) DEFAULT NULL COMMENT '平均獲利',
  `avg_loss` decimal(40,12) DEFAULT NULL COMMENT '平均虧損',
  `avg_profit_to_loss_ratio` decimal(40,12) DEFAULT NULL COMMENT '平均賺賠比',
  `quantile_25` decimal(40,12) DEFAULT NULL COMMENT 'quantile 25',
  `quantile_50` decimal(40,12) DEFAULT NULL COMMENT 'quantile 50',
  `quantile_75` decimal(40,12) DEFAULT NULL COMMENT 'quantile 75',
  `avg_holding_time` decimal(40,12) DEFAULT NULL COMMENT '平均持有時間',
  `start_at` date DEFAULT NULL COMMENT '資料起始日期',
  `end_at` date DEFAULT NULL COMMENT '資料結束日期',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_version_column` (`version`)
) ENGINE=InnoDB AUTO_INCREMENT=738289 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `buy_and_sell_date`;
CREATE TABLE `buy_and_sell_date` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `oriented` varchar(30) NOT NULL COMMENT '面向',
  `date` datetime NOT NULL COMMENT '日期',
  `strategy` varchar(30) NOT NULL COMMENT '進出場策略',
  `action` varchar(30) NOT NULL COMMENT '進出場動作',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`,`date`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_date_column` (`date`)
) ENGINE=InnoDB AUTO_INCREMENT=68543182 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
/*!50100 PARTITION BY RANGE (year(`date`))
(PARTITION p1994 VALUES LESS THAN (1995) ENGINE = InnoDB,
 PARTITION p1995 VALUES LESS THAN (1996) ENGINE = InnoDB,
 PARTITION p1996 VALUES LESS THAN (1997) ENGINE = InnoDB,
 PARTITION p1997 VALUES LESS THAN (1998) ENGINE = InnoDB,
 PARTITION p1998 VALUES LESS THAN (1999) ENGINE = InnoDB,
 PARTITION p1999 VALUES LESS THAN (2000) ENGINE = InnoDB,
 PARTITION p2000 VALUES LESS THAN (2001) ENGINE = InnoDB,
 PARTITION p2001 VALUES LESS THAN (2002) ENGINE = InnoDB,
 PARTITION p2002 VALUES LESS THAN (2003) ENGINE = InnoDB,
 PARTITION p2003 VALUES LESS THAN (2004) ENGINE = InnoDB,
 PARTITION p2004 VALUES LESS THAN (2005) ENGINE = InnoDB,
 PARTITION p2005 VALUES LESS THAN (2006) ENGINE = InnoDB,
 PARTITION p2006 VALUES LESS THAN (2007) ENGINE = InnoDB,
 PARTITION p2007 VALUES LESS THAN (2008) ENGINE = InnoDB,
 PARTITION p2008 VALUES LESS THAN (2009) ENGINE = InnoDB,
 PARTITION p2009 VALUES LESS THAN (2010) ENGINE = InnoDB,
 PARTITION p2010 VALUES LESS THAN (2011) ENGINE = InnoDB,
 PARTITION p2011 VALUES LESS THAN (2012) ENGINE = InnoDB,
 PARTITION p2012 VALUES LESS THAN (2013) ENGINE = InnoDB,
 PARTITION p2013 VALUES LESS THAN (2014) ENGINE = InnoDB,
 PARTITION p2014 VALUES LESS THAN (2015) ENGINE = InnoDB,
 PARTITION p2015 VALUES LESS THAN (2016) ENGINE = InnoDB,
 PARTITION p2016 VALUES LESS THAN (2017) ENGINE = InnoDB,
 PARTITION p2017 VALUES LESS THAN (2018) ENGINE = InnoDB,
 PARTITION p2018 VALUES LESS THAN (2019) ENGINE = InnoDB,
 PARTITION p2019 VALUES LESS THAN (2020) ENGINE = InnoDB,
 PARTITION p2020 VALUES LESS THAN (2021) ENGINE = InnoDB,
 PARTITION p2021 VALUES LESS THAN (2022) ENGINE = InnoDB,
 PARTITION p2022 VALUES LESS THAN (2023) ENGINE = InnoDB,
 PARTITION p2023 VALUES LESS THAN (2024) ENGINE = InnoDB,
 PARTITION p2024 VALUES LESS THAN (2025) ENGINE = InnoDB,
 PARTITION p2025 VALUES LESS THAN (2026) ENGINE = InnoDB,
 PARTITION p2026 VALUES LESS THAN (2027) ENGINE = InnoDB,
 PARTITION p2027 VALUES LESS THAN (2028) ENGINE = InnoDB,
 PARTITION p2028 VALUES LESS THAN (2029) ENGINE = InnoDB,
 PARTITION p2029 VALUES LESS THAN (2030) ENGINE = InnoDB,
 PARTITION p2030 VALUES LESS THAN (2031) ENGINE = InnoDB) */;

DROP TABLE IF EXISTS `chip_basic_info`;
CREATE TABLE `chip_basic_info` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `date` datetime NOT NULL COMMENT '日期',
  `cash_surplus` bigint DEFAULT NULL COMMENT '資金淨增',
  `cash_net_in` bigint DEFAULT NULL COMMENT '資金流入',
  `cash_net_out` bigint DEFAULT NULL COMMENT '資金流出',
  `add_inst_num` int DEFAULT NULL COMMENT '加碼_間數',
  `add_total_cash` bigint DEFAULT NULL COMMENT '加碼_金額',
  `build_inst_num` int DEFAULT NULL COMMENT '建倉_間數',
  `build_total_cash` bigint DEFAULT NULL COMMENT '建倉_金額',
  `reduce_inst_num` int DEFAULT NULL COMMENT '減碼_間數',
  `reduce_total_cash` bigint DEFAULT NULL COMMENT '減碼_金額',
  `clean_inst_num` int DEFAULT NULL COMMENT '清倉_間數',
  `clean_total_cash` bigint DEFAULT NULL COMMENT '清倉_金額',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_date_column` (`date`)
) ENGINE=InnoDB AUTO_INCREMENT=203987 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `chip_institution_holding_info`;
CREATE TABLE `chip_institution_holding_info` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `date` datetime NOT NULL COMMENT '日期',
  `inst_ownshp` decimal(40,12) DEFAULT NULL COMMENT '機構持有率',
  `inst_count` int DEFAULT NULL COMMENT '持有機構數',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  `conti_add` int DEFAULT NULL COMMENT '連續加碼季數',
  PRIMARY KEY (`id`,`date`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_date_column` (`date`)
) ENGINE=InnoDB AUTO_INCREMENT=250201 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
/*!50100 PARTITION BY RANGE (year(`date`))
(PARTITION p1994 VALUES LESS THAN (1995) ENGINE = InnoDB,
 PARTITION p1995 VALUES LESS THAN (1996) ENGINE = InnoDB,
 PARTITION p1996 VALUES LESS THAN (1997) ENGINE = InnoDB,
 PARTITION p1997 VALUES LESS THAN (1998) ENGINE = InnoDB,
 PARTITION p1998 VALUES LESS THAN (1999) ENGINE = InnoDB,
 PARTITION p1999 VALUES LESS THAN (2000) ENGINE = InnoDB,
 PARTITION p2000 VALUES LESS THAN (2001) ENGINE = InnoDB,
 PARTITION p2001 VALUES LESS THAN (2002) ENGINE = InnoDB,
 PARTITION p2002 VALUES LESS THAN (2003) ENGINE = InnoDB,
 PARTITION p2003 VALUES LESS THAN (2004) ENGINE = InnoDB,
 PARTITION p2004 VALUES LESS THAN (2005) ENGINE = InnoDB,
 PARTITION p2005 VALUES LESS THAN (2006) ENGINE = InnoDB,
 PARTITION p2006 VALUES LESS THAN (2007) ENGINE = InnoDB,
 PARTITION p2007 VALUES LESS THAN (2008) ENGINE = InnoDB,
 PARTITION p2008 VALUES LESS THAN (2009) ENGINE = InnoDB,
 PARTITION p2009 VALUES LESS THAN (2010) ENGINE = InnoDB,
 PARTITION p2010 VALUES LESS THAN (2011) ENGINE = InnoDB,
 PARTITION p2011 VALUES LESS THAN (2012) ENGINE = InnoDB,
 PARTITION p2012 VALUES LESS THAN (2013) ENGINE = InnoDB,
 PARTITION p2013 VALUES LESS THAN (2014) ENGINE = InnoDB,
 PARTITION p2014 VALUES LESS THAN (2015) ENGINE = InnoDB,
 PARTITION p2015 VALUES LESS THAN (2016) ENGINE = InnoDB,
 PARTITION p2016 VALUES LESS THAN (2017) ENGINE = InnoDB,
 PARTITION p2017 VALUES LESS THAN (2018) ENGINE = InnoDB,
 PARTITION p2018 VALUES LESS THAN (2019) ENGINE = InnoDB,
 PARTITION p2019 VALUES LESS THAN (2020) ENGINE = InnoDB,
 PARTITION p2020 VALUES LESS THAN (2021) ENGINE = InnoDB,
 PARTITION p2021 VALUES LESS THAN (2022) ENGINE = InnoDB,
 PARTITION p2022 VALUES LESS THAN (2023) ENGINE = InnoDB,
 PARTITION p2023 VALUES LESS THAN (2024) ENGINE = InnoDB,
 PARTITION p2024 VALUES LESS THAN (2025) ENGINE = InnoDB,
 PARTITION p2025 VALUES LESS THAN (2026) ENGINE = InnoDB,
 PARTITION p2026 VALUES LESS THAN (2027) ENGINE = InnoDB,
 PARTITION p2027 VALUES LESS THAN (2028) ENGINE = InnoDB,
 PARTITION p2028 VALUES LESS THAN (2029) ENGINE = InnoDB,
 PARTITION p2029 VALUES LESS THAN (2030) ENGINE = InnoDB,
 PARTITION p2030 VALUES LESS THAN (2031) ENGINE = InnoDB) */;

DROP TABLE IF EXISTS `description`;
CREATE TABLE `description` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `oriented` varchar(30) NOT NULL COMMENT '面向',
  `info` varchar(30) NOT NULL COMMENT '描述資訊',
  `description` varchar(500) DEFAULT NULL COMMENT '描述內容',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`),
  KEY `index_symbol_column` (`symbol`)
) ENGINE=InnoDB AUTO_INCREMENT=298812 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `famous_investor_status`;
CREATE TABLE `famous_investor_status` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `investorname` varchar(200) NOT NULL COMMENT '投資機構',
  `investorname_zh` varchar(200) NOT NULL COMMENT '投資機構（中文）',
  `quarter_1` varchar(20) NOT NULL COMMENT '最近一季度',
  `units_1` varchar(20) NOT NULL COMMENT '最近一季度單位數',
  `units_pct_1` varchar(20) NOT NULL COMMENT '最近一季度變化率',
  `quarter_2` varchar(20) NOT NULL COMMENT '最近第二個季度',
  `units_2` varchar(20) NOT NULL COMMENT '最近第二個季度單位數',
  `units_pct_2` varchar(20) NOT NULL COMMENT '最近第二個季度變化率',
  `quarter_3` varchar(20) NOT NULL COMMENT '最近第三個季度',
  `units_3` varchar(20) NOT NULL COMMENT '最近第三個季度單位數',
  `units_pct_3` varchar(20) NOT NULL COMMENT '最近第三個季度變化率',
  `quarter_4` varchar(20) NOT NULL COMMENT '最近第四個季度',
  `units_4` varchar(20) NOT NULL COMMENT '最近第四個季度單位數',
  `units_pct_4` varchar(20) NOT NULL COMMENT '最近第四個季度變化率',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`),
  KEY `index_symbol_column` (`symbol`)
) ENGINE=InnoDB AUTO_INCREMENT=36609 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `historical_indicator`;
CREATE TABLE `historical_indicator` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `date` date NOT NULL COMMENT '日期',
  `surfing_trend` decimal(40,12) NOT NULL COMMENT 'surfing_trend 值',
  `power_squeeze` decimal(40,12) NOT NULL COMMENT 'power_squeeze 值',
  `power_squeeze_momentum` decimal(40,12) NOT NULL COMMENT 'power_squeeze_momentum 值',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`),
  KEY `symbol` (`symbol`,`date`)
) ENGINE=InnoDB AUTO_INCREMENT=483226 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `historical_market_factor`;
CREATE TABLE `historical_market_factor` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼',
  `date` date NOT NULL COMMENT '日期',
  `factor` varchar(45) COLLATE utf8_unicode_ci NOT NULL COMMENT '因子名稱',
  `indicator` varchar(45) COLLATE utf8_unicode_ci NOT NULL COMMENT '指標名稱',
  `value` decimal(40,5) NOT NULL COMMENT '數值',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=153617 DEFAULT CHARSET=utf8mb3 COLLATE=utf8_unicode_ci;

DROP TABLE IF EXISTS `historical_market_indicator`;
CREATE TABLE `historical_market_indicator` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼',
  `indicator` varchar(45) COLLATE utf8_unicode_ci NOT NULL COMMENT '指標名稱',
  `date` date NOT NULL COMMENT '日期',
  `value` int NOT NULL COMMENT '數值',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=21547 DEFAULT CHARSET=utf8mb3 COLLATE=utf8_unicode_ci;

DROP TABLE IF EXISTS `historical_rating`;
CREATE TABLE `historical_rating` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `oriented` varchar(30) NOT NULL COMMENT '面向',
  `date` datetime NOT NULL COMMENT '日期',
  `version` varchar(30) NOT NULL COMMENT '版號',
  `value` int DEFAULT NULL COMMENT '分數',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`,`date`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_version_column` (`version`),
  KEY `index_date_column` (`date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
/*!50100 PARTITION BY RANGE (year(`date`))
(PARTITION p1994 VALUES LESS THAN (1995) ENGINE = InnoDB,
 PARTITION p1995 VALUES LESS THAN (1996) ENGINE = InnoDB,
 PARTITION p1996 VALUES LESS THAN (1997) ENGINE = InnoDB,
 PARTITION p1997 VALUES LESS THAN (1998) ENGINE = InnoDB,
 PARTITION p1998 VALUES LESS THAN (1999) ENGINE = InnoDB,
 PARTITION p1999 VALUES LESS THAN (2000) ENGINE = InnoDB,
 PARTITION p2000 VALUES LESS THAN (2001) ENGINE = InnoDB,
 PARTITION p2001 VALUES LESS THAN (2002) ENGINE = InnoDB,
 PARTITION p2002 VALUES LESS THAN (2003) ENGINE = InnoDB,
 PARTITION p2003 VALUES LESS THAN (2004) ENGINE = InnoDB,
 PARTITION p2004 VALUES LESS THAN (2005) ENGINE = InnoDB,
 PARTITION p2005 VALUES LESS THAN (2006) ENGINE = InnoDB,
 PARTITION p2006 VALUES LESS THAN (2007) ENGINE = InnoDB,
 PARTITION p2007 VALUES LESS THAN (2008) ENGINE = InnoDB,
 PARTITION p2008 VALUES LESS THAN (2009) ENGINE = InnoDB,
 PARTITION p2009 VALUES LESS THAN (2010) ENGINE = InnoDB,
 PARTITION p2010 VALUES LESS THAN (2011) ENGINE = InnoDB,
 PARTITION p2011 VALUES LESS THAN (2012) ENGINE = InnoDB,
 PARTITION p2012 VALUES LESS THAN (2013) ENGINE = InnoDB,
 PARTITION p2013 VALUES LESS THAN (2014) ENGINE = InnoDB,
 PARTITION p2014 VALUES LESS THAN (2015) ENGINE = InnoDB,
 PARTITION p2015 VALUES LESS THAN (2016) ENGINE = InnoDB,
 PARTITION p2016 VALUES LESS THAN (2017) ENGINE = InnoDB,
 PARTITION p2017 VALUES LESS THAN (2018) ENGINE = InnoDB,
 PARTITION p2018 VALUES LESS THAN (2019) ENGINE = InnoDB,
 PARTITION p2019 VALUES LESS THAN (2020) ENGINE = InnoDB,
 PARTITION p2020 VALUES LESS THAN (2021) ENGINE = InnoDB,
 PARTITION p2021 VALUES LESS THAN (2022) ENGINE = InnoDB,
 PARTITION p2022 VALUES LESS THAN (2023) ENGINE = InnoDB,
 PARTITION p2023 VALUES LESS THAN (2024) ENGINE = InnoDB,
 PARTITION p2024 VALUES LESS THAN (2025) ENGINE = InnoDB,
 PARTITION p2025 VALUES LESS THAN (2026) ENGINE = InnoDB,
 PARTITION p2026 VALUES LESS THAN (2027) ENGINE = InnoDB,
 PARTITION p2027 VALUES LESS THAN (2028) ENGINE = InnoDB,
 PARTITION p2028 VALUES LESS THAN (2029) ENGINE = InnoDB,
 PARTITION p2029 VALUES LESS THAN (2030) ENGINE = InnoDB,
 PARTITION p2030 VALUES LESS THAN (2031) ENGINE = InnoDB) */;

DROP TABLE IF EXISTS `historical_rating_chip`;
CREATE TABLE `historical_rating_chip` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `date` date NOT NULL COMMENT '日期',
  `version` varchar(30) NOT NULL COMMENT '版號',
  `value` int NOT NULL COMMENT '分數',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料更新時間',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間',
  PRIMARY KEY (`id`,`date`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_date_column` (`date`),
  KEY `index_version_column` (`version`)
) ENGINE=InnoDB AUTO_INCREMENT=250213 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
/*!50100 PARTITION BY RANGE (year(`date`))
(PARTITION p1994 VALUES LESS THAN (1995) ENGINE = InnoDB,
 PARTITION p1995 VALUES LESS THAN (1996) ENGINE = InnoDB,
 PARTITION p1996 VALUES LESS THAN (1997) ENGINE = InnoDB,
 PARTITION p1997 VALUES LESS THAN (1998) ENGINE = InnoDB,
 PARTITION p1998 VALUES LESS THAN (1999) ENGINE = InnoDB,
 PARTITION p1999 VALUES LESS THAN (2000) ENGINE = InnoDB,
 PARTITION p2000 VALUES LESS THAN (2001) ENGINE = InnoDB,
 PARTITION p2001 VALUES LESS THAN (2002) ENGINE = InnoDB,
 PARTITION p2002 VALUES LESS THAN (2003) ENGINE = InnoDB,
 PARTITION p2003 VALUES LESS THAN (2004) ENGINE = InnoDB,
 PARTITION p2004 VALUES LESS THAN (2005) ENGINE = InnoDB,
 PARTITION p2005 VALUES LESS THAN (2006) ENGINE = InnoDB,
 PARTITION p2006 VALUES LESS THAN (2007) ENGINE = InnoDB,
 PARTITION p2007 VALUES LESS THAN (2008) ENGINE = InnoDB,
 PARTITION p2008 VALUES LESS THAN (2009) ENGINE = InnoDB,
 PARTITION p2009 VALUES LESS THAN (2010) ENGINE = InnoDB,
 PARTITION p2010 VALUES LESS THAN (2011) ENGINE = InnoDB,
 PARTITION p2011 VALUES LESS THAN (2012) ENGINE = InnoDB,
 PARTITION p2012 VALUES LESS THAN (2013) ENGINE = InnoDB,
 PARTITION p2013 VALUES LESS THAN (2014) ENGINE = InnoDB,
 PARTITION p2014 VALUES LESS THAN (2015) ENGINE = InnoDB,
 PARTITION p2015 VALUES LESS THAN (2016) ENGINE = InnoDB,
 PARTITION p2016 VALUES LESS THAN (2017) ENGINE = InnoDB,
 PARTITION p2017 VALUES LESS THAN (2018) ENGINE = InnoDB,
 PARTITION p2018 VALUES LESS THAN (2019) ENGINE = InnoDB,
 PARTITION p2019 VALUES LESS THAN (2020) ENGINE = InnoDB,
 PARTITION p2020 VALUES LESS THAN (2021) ENGINE = InnoDB,
 PARTITION p2021 VALUES LESS THAN (2022) ENGINE = InnoDB,
 PARTITION p2022 VALUES LESS THAN (2023) ENGINE = InnoDB,
 PARTITION p2023 VALUES LESS THAN (2024) ENGINE = InnoDB,
 PARTITION p2024 VALUES LESS THAN (2025) ENGINE = InnoDB,
 PARTITION p2025 VALUES LESS THAN (2026) ENGINE = InnoDB,
 PARTITION p2026 VALUES LESS THAN (2027) ENGINE = InnoDB,
 PARTITION p2027 VALUES LESS THAN (2028) ENGINE = InnoDB,
 PARTITION p2028 VALUES LESS THAN (2029) ENGINE = InnoDB,
 PARTITION p2029 VALUES LESS THAN (2030) ENGINE = InnoDB,
 PARTITION p2030 VALUES LESS THAN (2031) ENGINE = InnoDB) */;

DROP TABLE IF EXISTS `historical_rating_dividend`;
CREATE TABLE `historical_rating_dividend` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `date` date NOT NULL COMMENT '日期',
  `version` varchar(30) NOT NULL COMMENT '版號',
  `value` int NOT NULL COMMENT '分數',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料更新時間',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間',
  PRIMARY KEY (`id`,`date`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_date_column` (`date`),
  KEY `index_version_column` (`version`)
) ENGINE=InnoDB AUTO_INCREMENT=6590694 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
/*!50100 PARTITION BY RANGE (year(`date`))
(PARTITION p1994 VALUES LESS THAN (1995) ENGINE = InnoDB,
 PARTITION p1995 VALUES LESS THAN (1996) ENGINE = InnoDB,
 PARTITION p1996 VALUES LESS THAN (1997) ENGINE = InnoDB,
 PARTITION p1997 VALUES LESS THAN (1998) ENGINE = InnoDB,
 PARTITION p1998 VALUES LESS THAN (1999) ENGINE = InnoDB,
 PARTITION p1999 VALUES LESS THAN (2000) ENGINE = InnoDB,
 PARTITION p2000 VALUES LESS THAN (2001) ENGINE = InnoDB,
 PARTITION p2001 VALUES LESS THAN (2002) ENGINE = InnoDB,
 PARTITION p2002 VALUES LESS THAN (2003) ENGINE = InnoDB,
 PARTITION p2003 VALUES LESS THAN (2004) ENGINE = InnoDB,
 PARTITION p2004 VALUES LESS THAN (2005) ENGINE = InnoDB,
 PARTITION p2005 VALUES LESS THAN (2006) ENGINE = InnoDB,
 PARTITION p2006 VALUES LESS THAN (2007) ENGINE = InnoDB,
 PARTITION p2007 VALUES LESS THAN (2008) ENGINE = InnoDB,
 PARTITION p2008 VALUES LESS THAN (2009) ENGINE = InnoDB,
 PARTITION p2009 VALUES LESS THAN (2010) ENGINE = InnoDB,
 PARTITION p2010 VALUES LESS THAN (2011) ENGINE = InnoDB,
 PARTITION p2011 VALUES LESS THAN (2012) ENGINE = InnoDB,
 PARTITION p2012 VALUES LESS THAN (2013) ENGINE = InnoDB,
 PARTITION p2013 VALUES LESS THAN (2014) ENGINE = InnoDB,
 PARTITION p2014 VALUES LESS THAN (2015) ENGINE = InnoDB,
 PARTITION p2015 VALUES LESS THAN (2016) ENGINE = InnoDB,
 PARTITION p2016 VALUES LESS THAN (2017) ENGINE = InnoDB,
 PARTITION p2017 VALUES LESS THAN (2018) ENGINE = InnoDB,
 PARTITION p2018 VALUES LESS THAN (2019) ENGINE = InnoDB,
 PARTITION p2019 VALUES LESS THAN (2020) ENGINE = InnoDB,
 PARTITION p2020 VALUES LESS THAN (2021) ENGINE = InnoDB,
 PARTITION p2021 VALUES LESS THAN (2022) ENGINE = InnoDB,
 PARTITION p2022 VALUES LESS THAN (2023) ENGINE = InnoDB,
 PARTITION p2023 VALUES LESS THAN (2024) ENGINE = InnoDB,
 PARTITION p2024 VALUES LESS THAN (2025) ENGINE = InnoDB,
 PARTITION p2025 VALUES LESS THAN (2026) ENGINE = InnoDB,
 PARTITION p2026 VALUES LESS THAN (2027) ENGINE = InnoDB,
 PARTITION p2027 VALUES LESS THAN (2028) ENGINE = InnoDB,
 PARTITION p2028 VALUES LESS THAN (2029) ENGINE = InnoDB,
 PARTITION p2029 VALUES LESS THAN (2030) ENGINE = InnoDB,
 PARTITION p2030 VALUES LESS THAN (2031) ENGINE = InnoDB) */;

DROP TABLE IF EXISTS `historical_rating_swing`;
CREATE TABLE `historical_rating_swing` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `date` date NOT NULL COMMENT '日期',
  `version` varchar(30) NOT NULL COMMENT '版號',
  `value` int NOT NULL COMMENT '分數',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料更新時間',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間',
  PRIMARY KEY (`id`,`date`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_date_column` (`date`),
  KEY `index_version_column` (`version`)
) ENGINE=InnoDB AUTO_INCREMENT=138692339 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
/*!50100 PARTITION BY RANGE (year(`date`))
(PARTITION p1994 VALUES LESS THAN (1995) ENGINE = InnoDB,
 PARTITION p1995 VALUES LESS THAN (1996) ENGINE = InnoDB,
 PARTITION p1996 VALUES LESS THAN (1997) ENGINE = InnoDB,
 PARTITION p1997 VALUES LESS THAN (1998) ENGINE = InnoDB,
 PARTITION p1998 VALUES LESS THAN (1999) ENGINE = InnoDB,
 PARTITION p1999 VALUES LESS THAN (2000) ENGINE = InnoDB,
 PARTITION p2000 VALUES LESS THAN (2001) ENGINE = InnoDB,
 PARTITION p2001 VALUES LESS THAN (2002) ENGINE = InnoDB,
 PARTITION p2002 VALUES LESS THAN (2003) ENGINE = InnoDB,
 PARTITION p2003 VALUES LESS THAN (2004) ENGINE = InnoDB,
 PARTITION p2004 VALUES LESS THAN (2005) ENGINE = InnoDB,
 PARTITION p2005 VALUES LESS THAN (2006) ENGINE = InnoDB,
 PARTITION p2006 VALUES LESS THAN (2007) ENGINE = InnoDB,
 PARTITION p2007 VALUES LESS THAN (2008) ENGINE = InnoDB,
 PARTITION p2008 VALUES LESS THAN (2009) ENGINE = InnoDB,
 PARTITION p2009 VALUES LESS THAN (2010) ENGINE = InnoDB,
 PARTITION p2010 VALUES LESS THAN (2011) ENGINE = InnoDB,
 PARTITION p2011 VALUES LESS THAN (2012) ENGINE = InnoDB,
 PARTITION p2012 VALUES LESS THAN (2013) ENGINE = InnoDB,
 PARTITION p2013 VALUES LESS THAN (2014) ENGINE = InnoDB,
 PARTITION p2014 VALUES LESS THAN (2015) ENGINE = InnoDB,
 PARTITION p2015 VALUES LESS THAN (2016) ENGINE = InnoDB,
 PARTITION p2016 VALUES LESS THAN (2017) ENGINE = InnoDB,
 PARTITION p2017 VALUES LESS THAN (2018) ENGINE = InnoDB,
 PARTITION p2018 VALUES LESS THAN (2019) ENGINE = InnoDB,
 PARTITION p2019 VALUES LESS THAN (2020) ENGINE = InnoDB,
 PARTITION p2020 VALUES LESS THAN (2021) ENGINE = InnoDB,
 PARTITION p2021 VALUES LESS THAN (2022) ENGINE = InnoDB,
 PARTITION p2022 VALUES LESS THAN (2023) ENGINE = InnoDB,
 PARTITION p2023 VALUES LESS THAN (2024) ENGINE = InnoDB,
 PARTITION p2024 VALUES LESS THAN (2025) ENGINE = InnoDB,
 PARTITION p2025 VALUES LESS THAN (2026) ENGINE = InnoDB,
 PARTITION p2026 VALUES LESS THAN (2027) ENGINE = InnoDB,
 PARTITION p2027 VALUES LESS THAN (2028) ENGINE = InnoDB,
 PARTITION p2028 VALUES LESS THAN (2029) ENGINE = InnoDB,
 PARTITION p2029 VALUES LESS THAN (2030) ENGINE = InnoDB,
 PARTITION p2030 VALUES LESS THAN (2031) ENGINE = InnoDB) */;

DROP TABLE IF EXISTS `historical_rating_trend`;
CREATE TABLE `historical_rating_trend` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `date` date NOT NULL COMMENT '日期',
  `version` varchar(30) NOT NULL COMMENT '版號',
  `value` int NOT NULL COMMENT '分數',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料更新時間',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間',
  PRIMARY KEY (`id`,`date`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_date_column` (`date`),
  KEY `index_version_column` (`version`)
) ENGINE=InnoDB AUTO_INCREMENT=21717458 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
/*!50100 PARTITION BY RANGE (year(`date`))
(PARTITION p1994 VALUES LESS THAN (1995) ENGINE = InnoDB,
 PARTITION p1995 VALUES LESS THAN (1996) ENGINE = InnoDB,
 PARTITION p1996 VALUES LESS THAN (1997) ENGINE = InnoDB,
 PARTITION p1997 VALUES LESS THAN (1998) ENGINE = InnoDB,
 PARTITION p1998 VALUES LESS THAN (1999) ENGINE = InnoDB,
 PARTITION p1999 VALUES LESS THAN (2000) ENGINE = InnoDB,
 PARTITION p2000 VALUES LESS THAN (2001) ENGINE = InnoDB,
 PARTITION p2001 VALUES LESS THAN (2002) ENGINE = InnoDB,
 PARTITION p2002 VALUES LESS THAN (2003) ENGINE = InnoDB,
 PARTITION p2003 VALUES LESS THAN (2004) ENGINE = InnoDB,
 PARTITION p2004 VALUES LESS THAN (2005) ENGINE = InnoDB,
 PARTITION p2005 VALUES LESS THAN (2006) ENGINE = InnoDB,
 PARTITION p2006 VALUES LESS THAN (2007) ENGINE = InnoDB,
 PARTITION p2007 VALUES LESS THAN (2008) ENGINE = InnoDB,
 PARTITION p2008 VALUES LESS THAN (2009) ENGINE = InnoDB,
 PARTITION p2009 VALUES LESS THAN (2010) ENGINE = InnoDB,
 PARTITION p2010 VALUES LESS THAN (2011) ENGINE = InnoDB,
 PARTITION p2011 VALUES LESS THAN (2012) ENGINE = InnoDB,
 PARTITION p2012 VALUES LESS THAN (2013) ENGINE = InnoDB,
 PARTITION p2013 VALUES LESS THAN (2014) ENGINE = InnoDB,
 PARTITION p2014 VALUES LESS THAN (2015) ENGINE = InnoDB,
 PARTITION p2015 VALUES LESS THAN (2016) ENGINE = InnoDB,
 PARTITION p2016 VALUES LESS THAN (2017) ENGINE = InnoDB,
 PARTITION p2017 VALUES LESS THAN (2018) ENGINE = InnoDB,
 PARTITION p2018 VALUES LESS THAN (2019) ENGINE = InnoDB,
 PARTITION p2019 VALUES LESS THAN (2020) ENGINE = InnoDB,
 PARTITION p2020 VALUES LESS THAN (2021) ENGINE = InnoDB,
 PARTITION p2021 VALUES LESS THAN (2022) ENGINE = InnoDB,
 PARTITION p2022 VALUES LESS THAN (2023) ENGINE = InnoDB,
 PARTITION p2023 VALUES LESS THAN (2024) ENGINE = InnoDB,
 PARTITION p2024 VALUES LESS THAN (2025) ENGINE = InnoDB,
 PARTITION p2025 VALUES LESS THAN (2026) ENGINE = InnoDB,
 PARTITION p2026 VALUES LESS THAN (2027) ENGINE = InnoDB,
 PARTITION p2027 VALUES LESS THAN (2028) ENGINE = InnoDB,
 PARTITION p2028 VALUES LESS THAN (2029) ENGINE = InnoDB,
 PARTITION p2029 VALUES LESS THAN (2030) ENGINE = InnoDB,
 PARTITION p2030 VALUES LESS THAN (2031) ENGINE = InnoDB) */;

DROP TABLE IF EXISTS `historical_rating_value`;
CREATE TABLE `historical_rating_value` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `date` date NOT NULL COMMENT '日期',
  `version` varchar(30) NOT NULL COMMENT '版號',
  `value` int NOT NULL COMMENT '分數',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料更新時間',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間',
  PRIMARY KEY (`id`,`date`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_date_column` (`date`),
  KEY `index_version_column` (`version`)
) ENGINE=InnoDB AUTO_INCREMENT=1743752 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
/*!50100 PARTITION BY RANGE (year(`date`))
(PARTITION p1994 VALUES LESS THAN (1995) ENGINE = InnoDB,
 PARTITION p1995 VALUES LESS THAN (1996) ENGINE = InnoDB,
 PARTITION p1996 VALUES LESS THAN (1997) ENGINE = InnoDB,
 PARTITION p1997 VALUES LESS THAN (1998) ENGINE = InnoDB,
 PARTITION p1998 VALUES LESS THAN (1999) ENGINE = InnoDB,
 PARTITION p1999 VALUES LESS THAN (2000) ENGINE = InnoDB,
 PARTITION p2000 VALUES LESS THAN (2001) ENGINE = InnoDB,
 PARTITION p2001 VALUES LESS THAN (2002) ENGINE = InnoDB,
 PARTITION p2002 VALUES LESS THAN (2003) ENGINE = InnoDB,
 PARTITION p2003 VALUES LESS THAN (2004) ENGINE = InnoDB,
 PARTITION p2004 VALUES LESS THAN (2005) ENGINE = InnoDB,
 PARTITION p2005 VALUES LESS THAN (2006) ENGINE = InnoDB,
 PARTITION p2006 VALUES LESS THAN (2007) ENGINE = InnoDB,
 PARTITION p2007 VALUES LESS THAN (2008) ENGINE = InnoDB,
 PARTITION p2008 VALUES LESS THAN (2009) ENGINE = InnoDB,
 PARTITION p2009 VALUES LESS THAN (2010) ENGINE = InnoDB,
 PARTITION p2010 VALUES LESS THAN (2011) ENGINE = InnoDB,
 PARTITION p2011 VALUES LESS THAN (2012) ENGINE = InnoDB,
 PARTITION p2012 VALUES LESS THAN (2013) ENGINE = InnoDB,
 PARTITION p2013 VALUES LESS THAN (2014) ENGINE = InnoDB,
 PARTITION p2014 VALUES LESS THAN (2015) ENGINE = InnoDB,
 PARTITION p2015 VALUES LESS THAN (2016) ENGINE = InnoDB,
 PARTITION p2016 VALUES LESS THAN (2017) ENGINE = InnoDB,
 PARTITION p2017 VALUES LESS THAN (2018) ENGINE = InnoDB,
 PARTITION p2018 VALUES LESS THAN (2019) ENGINE = InnoDB,
 PARTITION p2019 VALUES LESS THAN (2020) ENGINE = InnoDB,
 PARTITION p2020 VALUES LESS THAN (2021) ENGINE = InnoDB,
 PARTITION p2021 VALUES LESS THAN (2022) ENGINE = InnoDB,
 PARTITION p2022 VALUES LESS THAN (2023) ENGINE = InnoDB,
 PARTITION p2023 VALUES LESS THAN (2024) ENGINE = InnoDB,
 PARTITION p2024 VALUES LESS THAN (2025) ENGINE = InnoDB,
 PARTITION p2025 VALUES LESS THAN (2026) ENGINE = InnoDB,
 PARTITION p2026 VALUES LESS THAN (2027) ENGINE = InnoDB,
 PARTITION p2027 VALUES LESS THAN (2028) ENGINE = InnoDB,
 PARTITION p2028 VALUES LESS THAN (2029) ENGINE = InnoDB,
 PARTITION p2029 VALUES LESS THAN (2030) ENGINE = InnoDB,
 PARTITION p2030 VALUES LESS THAN (2031) ENGINE = InnoDB) */;

DROP TABLE IF EXISTS `historical_stock_index`;
CREATE TABLE `historical_stock_index` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `date` date NOT NULL COMMENT '日期',
  `adj_close_price` decimal(40,12) NOT NULL COMMENT '調整後收盤價',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`),
  KEY `symbol` (`symbol`,`date`)
) ENGINE=InnoDB AUTO_INCREMENT=2916 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `indicator_result`;
CREATE TABLE `indicator_result` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `date` datetime NOT NULL COMMENT '日期',
  `indicator` varchar(30) NOT NULL COMMENT '因子',
  `value` decimal(40,12) NOT NULL COMMENT '數值',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_date_column` (`date`)
) ENGINE=InnoDB AUTO_INCREMENT=194724093 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `insider_buying_info`;
CREATE TABLE `insider_buying_info` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `filing_date` datetime DEFAULT NULL COMMENT '申報日期',
  `buyer_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '購買人',
  `buyer_title` varchar(30) DEFAULT NULL COMMENT '購買人職稱',
  `trade_date` datetime DEFAULT NULL COMMENT '交易日',
  `trade_num` bigint DEFAULT NULL COMMENT '交易股數',
  `trade_cash` bigint DEFAULT NULL COMMENT '交易金額',
  `trade_num_after` bigint DEFAULT NULL COMMENT '交易後持股數',
  `stock_category` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '股票類型',
  `stock_category_zh` varchar(100) DEFAULT NULL COMMENT '股票類型(中文)',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_filling_date_column` (`filing_date`)
) ENGINE=InnoDB AUTO_INCREMENT=278826 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `market_factor_current_state`;
CREATE TABLE `market_factor_current_state` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼',
  `factor` varchar(45) COLLATE utf8_unicode_ci NOT NULL COMMENT '因子名稱',
  `indicator` varchar(45) COLLATE utf8_unicode_ci NOT NULL COMMENT '指標名稱',
  `factor_condition` int NOT NULL COMMENT '因子狀態',
  `frequency` varchar(1) COLLATE utf8_unicode_ci NOT NULL COMMENT '頻率',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=79 DEFAULT CHARSET=utf8mb3 COLLATE=utf8_unicode_ci;

DROP TABLE IF EXISTS `market_indicator_current_state`;
CREATE TABLE `market_indicator_current_state` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼',
  `indicator` varchar(45) COLLATE utf8_unicode_ci NOT NULL COMMENT '指標名稱',
  `value` int NOT NULL COMMENT '數值',
  `description` varchar(100) COLLATE utf8_unicode_ci NOT NULL COMMENT '指標描述',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3 COLLATE=utf8_unicode_ci;

DROP TABLE IF EXISTS `market_indicator_stats`;
CREATE TABLE `market_indicator_stats` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼',
  `indicator` varchar(45) COLLATE utf8_unicode_ci NOT NULL COMMENT '指標名稱',
  `indicator_status` varchar(45) COLLATE utf8_unicode_ci NOT NULL COMMENT '因子狀態',
  `profitability` decimal(40,5) NOT NULL COMMENT '上漲比率',
  `avg_profit_and_loss` decimal(40,5) NOT NULL COMMENT '平均損益',
  `avg_profit` decimal(40,5) DEFAULT NULL COMMENT '平均上漲',
  `avg_loss` decimal(40,5) DEFAULT NULL COMMENT '平均下跌',
  `quantile_25` decimal(40,5) NOT NULL COMMENT '25 百分位',
  `quantile_50` decimal(40,5) NOT NULL COMMENT '50 百分位',
  `quantile_75` decimal(40,5) NOT NULL COMMENT '75 百分位',
  `min` decimal(40,5) DEFAULT NULL COMMENT '最小值',
  `max` decimal(40,5) DEFAULT NULL COMMENT '最大值',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=utf8mb3 COLLATE=utf8_unicode_ci;

DROP TABLE IF EXISTS `market_signal_list`;
CREATE TABLE `market_signal_list` (
  `indicator` varchar(45) COLLATE utf8_unicode_ci NOT NULL COMMENT '指標名稱',
  `start_at` date NOT NULL COMMENT '發生日期',
  `end_at` date NOT NULL COMMENT '結束日期',
  `value` int NOT NULL COMMENT '指標',
  `duration` int NOT NULL COMMENT '期間天數',
  `cum_return` decimal(40,4) NOT NULL COMMENT '期間報酬',
  `max_drawdown` decimal(40,4) NOT NULL COMMENT '期間最大跌幅',
  `event` text COLLATE utf8_unicode_ci COMMENT '對應事件',
  `event_en` text COLLATE utf8_unicode_ci COMMENT '對應事件(英文)',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`indicator`,`start_at`,`end_at`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8_unicode_ci;

DROP TABLE IF EXISTS `recent_performance`;
CREATE TABLE `recent_performance` (
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `_1d_return` decimal(40,12) DEFAULT NULL COMMENT '一日報酬率',
  `_5d_return` decimal(40,12) DEFAULT NULL COMMENT '近五日報酬率',
  `_1m_return` decimal(40,12) DEFAULT NULL COMMENT '近一月報酬率',
  `_3m_return` decimal(40,12) DEFAULT NULL COMMENT '近三月報酬率',
  `_6m_return` decimal(40,12) DEFAULT NULL COMMENT '近半年報酬率',
  `_1y_return` decimal(40,12) DEFAULT NULL COMMENT '近一年報酬率',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`symbol`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `reward_of_trend_period`;
CREATE TABLE `reward_of_trend_period` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `score` int NOT NULL COMMENT '分數',
  `occurrence` int DEFAULT NULL COMMENT '發生次數',
  `avg_profit_and_loss` decimal(40,12) DEFAULT NULL COMMENT '平均期間報酬',
  `profits` int DEFAULT NULL COMMENT '上漲次數',
  `profitability` decimal(40,12) DEFAULT NULL COMMENT '上漲比率',
  `avg_profit` decimal(40,12) DEFAULT NULL COMMENT '平均上漲幅度',
  `avg_loss` decimal(40,12) DEFAULT NULL COMMENT '平均下跌幅度',
  `avg_holding_time` decimal(40,12) DEFAULT NULL COMMENT '平均期間天數',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`),
  KEY `index_symbol_column` (`symbol`)
) ENGINE=InnoDB AUTO_INCREMENT=58856 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `stock_mining_service`;
CREATE TABLE `stock_mining_service` (
  `service` varchar(100) NOT NULL COMMENT '服務',
  `activity` varchar(20) NOT NULL COMMENT '活動',
  `is_free_open` tinyint(1) NOT NULL COMMENT '是否免費開放, True: 免費開放, False: 需訂閱才能使用',
  `open_at` date DEFAULT NULL COMMENT '開放時間, is_free_open 為 True: YYYY-MM-DD, False: Null',
  `close_at` date DEFAULT NULL COMMENT '結束時間, is_free_open 為 True: YYYY-MM-DD, False: Null',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`service`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `symbol_dividend_info`;
CREATE TABLE `symbol_dividend_info` (
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `dividend_yield` decimal(40,12) DEFAULT NULL COMMENT '平均殖利率',
  `filled_days` decimal(40,12) DEFAULT NULL COMMENT '平均填權息花費日數',
  `filled_ratio` decimal(40,12) DEFAULT NULL COMMENT '填權息率',
  `continuous_year` int DEFAULT NULL COMMENT '股利連續分派年數',
  `volatility` decimal(40,12) DEFAULT NULL COMMENT '波動率',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`symbol`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `symbol_historical_dividend_info`;
CREATE TABLE `symbol_historical_dividend_info` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `year` int NOT NULL COMMENT '年份',
  `cash_dividend` decimal(40,12) NOT NULL COMMENT '現金股利',
  `stock_dividend` decimal(40,12) NOT NULL COMMENT '股票股利',
  `total_dividend` decimal(40,12) NOT NULL COMMENT '股利合計',
  `filled_days` int DEFAULT NULL COMMENT '填息花費日',
  `dividend_yield` decimal(40,12) NOT NULL COMMENT '殖利率',
  `eps` decimal(40,12) DEFAULT NULL COMMENT 'EPS',
  `payout_ratio` decimal(40,12) DEFAULT NULL COMMENT '盈餘分配率',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`,`year`),
  KEY `index_symbol_column` (`symbol`),
  KEY `index_year_column` (`year`)
) ENGINE=InnoDB AUTO_INCREMENT=1356162 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
/*!50100 PARTITION BY RANGE (`year`)
(PARTITION p1994 VALUES LESS THAN (1995) ENGINE = InnoDB,
 PARTITION p1995 VALUES LESS THAN (1996) ENGINE = InnoDB,
 PARTITION p1996 VALUES LESS THAN (1997) ENGINE = InnoDB,
 PARTITION p1997 VALUES LESS THAN (1998) ENGINE = InnoDB,
 PARTITION p1998 VALUES LESS THAN (1999) ENGINE = InnoDB,
 PARTITION p1999 VALUES LESS THAN (2000) ENGINE = InnoDB,
 PARTITION p2000 VALUES LESS THAN (2001) ENGINE = InnoDB,
 PARTITION p2001 VALUES LESS THAN (2002) ENGINE = InnoDB,
 PARTITION p2002 VALUES LESS THAN (2003) ENGINE = InnoDB,
 PARTITION p2003 VALUES LESS THAN (2004) ENGINE = InnoDB,
 PARTITION p2004 VALUES LESS THAN (2005) ENGINE = InnoDB,
 PARTITION p2005 VALUES LESS THAN (2006) ENGINE = InnoDB,
 PARTITION p2006 VALUES LESS THAN (2007) ENGINE = InnoDB,
 PARTITION p2007 VALUES LESS THAN (2008) ENGINE = InnoDB,
 PARTITION p2008 VALUES LESS THAN (2009) ENGINE = InnoDB,
 PARTITION p2009 VALUES LESS THAN (2010) ENGINE = InnoDB,
 PARTITION p2010 VALUES LESS THAN (2011) ENGINE = InnoDB,
 PARTITION p2011 VALUES LESS THAN (2012) ENGINE = InnoDB,
 PARTITION p2012 VALUES LESS THAN (2013) ENGINE = InnoDB,
 PARTITION p2013 VALUES LESS THAN (2014) ENGINE = InnoDB,
 PARTITION p2014 VALUES LESS THAN (2015) ENGINE = InnoDB,
 PARTITION p2015 VALUES LESS THAN (2016) ENGINE = InnoDB,
 PARTITION p2016 VALUES LESS THAN (2017) ENGINE = InnoDB,
 PARTITION p2017 VALUES LESS THAN (2018) ENGINE = InnoDB,
 PARTITION p2018 VALUES LESS THAN (2019) ENGINE = InnoDB,
 PARTITION p2019 VALUES LESS THAN (2020) ENGINE = InnoDB,
 PARTITION p2020 VALUES LESS THAN (2021) ENGINE = InnoDB,
 PARTITION p2021 VALUES LESS THAN (2022) ENGINE = InnoDB,
 PARTITION p2022 VALUES LESS THAN (2023) ENGINE = InnoDB,
 PARTITION p2023 VALUES LESS THAN (2024) ENGINE = InnoDB,
 PARTITION p2024 VALUES LESS THAN (2025) ENGINE = InnoDB,
 PARTITION p2025 VALUES LESS THAN (2026) ENGINE = InnoDB,
 PARTITION p2026 VALUES LESS THAN (2027) ENGINE = InnoDB,
 PARTITION p2027 VALUES LESS THAN (2028) ENGINE = InnoDB,
 PARTITION p2028 VALUES LESS THAN (2029) ENGINE = InnoDB,
 PARTITION p2029 VALUES LESS THAN (2030) ENGINE = InnoDB,
 PARTITION p2030 VALUES LESS THAN (2031) ENGINE = InnoDB) */;

DROP TABLE IF EXISTS `symbol_info`;
CREATE TABLE `symbol_info` (
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `name` varchar(100) NOT NULL COMMENT '標的全名',
  `exchange` varchar(10) DEFAULT NULL COMMENT '交易所',
  `country` varchar(10) NOT NULL COMMENT '國家',
  `price` decimal(40,12) NOT NULL COMMENT '股價',
  `value` int DEFAULT NULL COMMENT '目前價值評分',
  `trend` int DEFAULT NULL COMMENT '目前趨勢評分',
  `swing` int DEFAULT NULL COMMENT '目前波段評分',
  `dividend` int DEFAULT NULL COMMENT '目前股利評分',
  `chip` int DEFAULT NULL COMMENT '目前籌碼評分',
  `main_category_id` varchar(50) DEFAULT NULL COMMENT '大分類編號',
  `main_category` varchar(50) DEFAULT NULL COMMENT '大分類',
  `sub_category_id` varchar(50) DEFAULT NULL COMMENT '子分類編號',
  `sub_category` varchar(50) DEFAULT NULL COMMENT '子分類',
  `market_cap` decimal(40,12) DEFAULT NULL COMMENT '市值',
  `volume` decimal(40,12) DEFAULT NULL COMMENT '當日交易量',
  `volume_20MA` decimal(40,12) DEFAULT NULL COMMENT '20日平均交易量',
  `power_squeeze_daily` decimal(40,12) DEFAULT NULL COMMENT 'power_squeeze_daily',
  `power_squeeze_weekly` decimal(40,12) DEFAULT NULL COMMENT 'power_squeeze_weekly',
  `surfing_trend_daily` decimal(40,12) DEFAULT NULL COMMENT 'surfing_trend_daily',
  `surfing_trend_weekly` decimal(40,12) DEFAULT NULL COMMENT 'surfing_trend_weekly',
  `summary` varchar(500) DEFAULT NULL COMMENT '評價總結',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  `main_category_zh_tw` varchar(50) DEFAULT NULL COMMENT '大分類(中文)',
  `sub_category_zh_tw` varchar(50) DEFAULT NULL COMMENT '子分類(中文)',
  PRIMARY KEY (`symbol`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `symbol_mapping`;
CREATE TABLE `symbol_mapping` (
  `symbol` varchar(30) NOT NULL COMMENT '標的',
  `target_symbol` varchar(30) NOT NULL COMMENT '對應的標的',
  PRIMARY KEY (`symbol`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `top10_related_symbol`;
CREATE TABLE `top10_related_symbol` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT '流水碼(pk)',
  `symbol` varchar(30) NOT NULL COMMENT '標的名稱',
  `related_symbol` varchar(30) NOT NULL COMMENT '相關標的名稱',
  `correlation` decimal(40,12) NOT NULL COMMENT '相關性',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`id`),
  KEY `index_symbol_column` (`symbol`)
) ENGINE=InnoDB AUTO_INCREMENT=13157854 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS `tradingview_account_list`;
CREATE TABLE `tradingview_account_list` (
  `user_id` varchar(100) NOT NULL COMMENT 'Growin 客戶編號',
  `tradingview_account` varchar(100) NOT NULL COMMENT 'TradingView 帳號',
  `last_tradingview_account` varchar(100) DEFAULT NULL COMMENT '上次登記的TradingView 帳號',
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '資料異動時間，當update資料時自動更新 CURRENT_TIMESTAMP',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '資料建立時間，當資料建立時自動設為 CURRENT_TIMESTAMP',
  PRIMARY KEY (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;



/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;